<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>eSolid - Memory Management: Memory management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="eSolid-logo_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">eSolid - Memory Management
   &#160;<span id="projectnumber">1.0BetaR01</span>
   </div>
   <div id="projectbrief">Event Based System</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__mem.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a>  </div>
  <div class="headertitle">
<div class="title">Memory management</div>  </div>
</div><!--header-->
<div class="contents">

<p>Memory Management overview.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Memory management:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__mem.png" border="0" alt="" usemap="#group____mem"/>
<map name="group____mem" id="group____mem">
<area shape="rect" id="node1" href="group__mem__impl.html" title="Implementation" alt="" coords="203,5,314,32"/><area shape="rect" id="node3" href="group__mem__intf.html" title="Memory Management API. " alt="" coords="237,56,281,83"/><area shape="rect" id="node4" href="group__mem__cfg.html" title="Configuration" alt="" coords="209,107,308,133"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__mem__intf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem__intf.html">API</a></td></tr>
<tr class="memdesc:group__mem__intf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory Management API. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__mem__cfg"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem__cfg.html">Configuration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__mem__impl"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mem__impl.html">Implementation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Memory Management overview. </p>
<h1><a class="anchor" id="mem_index"></a>
Sadrzaj</h1>
<ul>
<li><a class="el" href="group__mem.html#mem_smem">Staticki memorijski menadzer</a></li>
<li><a class="el" href="group__mem.html#mem_dmem">Dinamicki memorijski menadzer</a></li>
<li><a class="el" href="group__mem.html#mem_pmem">Pool memorijski menadzer</a></li>
<li><a class="el" href="group__mem.html#mem_configuration">Konfiguracija Memory Management modula</a></li>
</ul>
<h1><a class="anchor" id="mem_smem"></a>
Staticki memorijski menadzer</h1>
<p>Staticki memorijski menadzer moze samo da alocira memoriju i jednom alocirana memorija se ne moze osloboditi. Koristi se kada je potrebno staticki alocirati objekte koji se nikada ne brisu. Ovaj memorijski menadzer je najjednostavniji i najbrzi, pa se preporucuje za mikroprocesore sa ogranicenim performansama. Potrosnja memorije iznosi samo 4-8 bajtova za ceo memorijski menadzer i ne postoji dodatna potrosnja memorije prilikom alociranja.</p>
<p>Staticni memorijski menadzer je jedinstven za embedded sistem. Ne mogu postojati vise instanci staticnog alokatora. Velicina memorije koja se predaje staticnom alokatoru na koriscenje se podesava opcijom OPT_MEM_SMEM_SIZE.</p>
<h1><a class="anchor" id="mem_dmem"></a>
Dinamicki memorijski menadzer</h1>
<p>Dinamicki memorijski menadzer je po funkcionalnosti identican sa funkcijama standardne C biblioteke malloc/free, sa tom izmenom da je prilagodjen za rad sa embedded sistemima.</p>
<p>Za razliku od staticnog alokatora, koji je jedinstven za sistem, u jednom embedded sistemu mogu postojati nekoliko instanci dinamickih alokatora. Razliciti dinamicki alokatori se referenciraju strukturom tipa <a class="el" href="group__mem__intf.html#gacaaf771b18b3da8fa3b67a466390080e">esDMemHandle_T</a>. Pogledati primer <a class="el" href="dmem_two_buffs_8c-example.html">dmem_two_buffs.c</a>.</p>
<h2><a class="anchor" id="mem_ff_alloc"></a>
First Fit algoritam</h2>
<p>U ovom algoritmu, alokator cuva listu slobodnih blokova i po prijemu zahteva za memoriju, skenira duz liste za prvim blokom koji je dovoljno veliki da opsluzi zahtev. Ako je izabrani blok dovoljno veci nego sto je zahtevano onda se blok deli na dva dela, jedan deo se predaje korisniku, a drugi blok se postavlja nazad u listu slobodnih blokova. Kada se vrsi reciklaza blokova, najpre se proveravaju susedni blokovi da li su zauzeti. Susedni blokovi koji su slobodni spajaju se sa blokom koji se reciklira i na taj nacin formira novi, veci blok.</p>
<h2><a class="anchor" id="mem_ff_specs"></a>
Specifikacije first fit alokatora</h2>
<ul>
<li>Maksimalno vreme izvrsavanja operacije alokacije bloka <b>nije</b> unapred poznato. Zbog navedene cinjenice alokator nije pogodan za hard real-time sisteme.</li>
<li>Maksimalno vreme izvrsavanja operacije dealokacije bloka je unapred poznato.</li>
<li>Ukupno minimalno zauzece RAM memorije (Cortex-M3 arch): <b>28B</b> </li>
</ul>
<h1><a class="anchor" id="mem_pmem"></a>
Pool memorijski menadzer</h1>
<p>Pool memorijski menadzer je vrlo slican dinamickom memorijskom menadzeru sa tom razlikom sto ne moze da se zatrazi proizvoljna kolicina memorije. Potrazivanje memorije se vrsi unapred definisanom velicinom bloka koja vazi za datu instancu pool memorije.</p>
<p>Podrzano je postojanje veceg broja razlicitih instanci, koje se referenciraju strukturama tipa <a class="el" href="group__mem__intf.html#gaf82f01d26c4f6bc9a2b672a673b09ce2">esPMemHandle_T</a>. Pogledati primer <a class="el" href="pmem_two_buffs_8c-example.html">pmem_two_buffs.c</a>.</p>
<h2><a class="anchor" id="mem_pool_specs"></a>
Specifikacije pool alokatora</h2>
<ul>
<li>Maksimalno vreme izvrsavanja operacije alokacije bloka <b>je</b> unapred poznato. Zbog navedene cinjenice alokator <b>je</b> pogodan za hard real-time sisteme.</li>
<li>Maksimalno vreme izvrsavanja operacije dealokacije bloka je unapred poznato.</li>
<li>Ukupno minimalno zauzece RAM memorije (Cortex-M3 arch): <b>12B</b> </li>
</ul>
<h1><a class="anchor" id="mem_configuration"></a>
Konfiguracija Memory Management modula</h1>
<p>Konfiguracija se vrsi u datoteci mem_config.h. Navodjenje opcija se vrsi u sekciji DEFINES.</p>
<p>Na primer, ako je potrebno dodeliti 1024B memorije static alokatoru onda se u datoteci mem_config.h u sekciji <code><b>DEFINES</b> unosi</code> sledece:</p>
<div class="fragment"><div class="line">    :</div>
<div class="line">    :</div>
<div class="line">    </div>
<div class="line"><span class="comment">/*===============================================================  DEFINES  ==*/</span></div>
<div class="line">    </div>
<div class="line">    :</div>
<div class="line">    :</div>
<div class="line">    </div>
<div class="line"><span class="preprocessor">#define OPT_MEM_SMEM_SIZE               1024U</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    :</div>
<div class="line">    :</div>
<div class="line">    </div>
<div class="line"><span class="comment">/*==============================================================  SETTINGS  ==*/</span>,</div>
<div class="line"></div>
<div class="line">    :</div>
<div class="line">    :</div>
</div><!-- fragment --><p>Za opcije Memory Management modula pogledati <a class="el" href="group__mem__cfg.html">Configuration</a>. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
